# 微博工具集

这个工具集提供了丰富的微博数据获取功能，基于微博移动端API，比PC端API更稳定可靠。

## 功能列表

### 1. 热搜功能
- **get-weibo-trending**: 获取微博实时热搜榜
  - 支持过滤广告内容
  - 提供热搜标题、描述、链接等信息

### 2. 搜索功能
- **search-weibo-content**: 搜索微博内容
  - 根据关键词搜索相关微博动态
  - 返回微博内容、用户信息、互动数据等
  
- **search-weibo-topics**: 搜索微博话题
  - 根据关键词搜索相关话题
  - 返回话题标题、描述、参与度等信息
  
- **search-weibo-users**: 搜索微博用户
  - 根据关键词搜索相关用户
  - 返回用户基本信息、认证状态等

### 3. 用户功能
- **get-weibo-user-profile**: 获取用户详细信息
  - 获取用户基本信息、认证状态、粉丝数等
  
- **get-weibo-user-feeds**: 获取用户动态
  - 获取用户最新发布的微博动态
  - 支持图片、视频等多媒体内容
  
- **get-weibo-user-followers**: 获取关注列表
  - 获取用户关注的用户列表
  
- **get-weibo-user-fans**: 获取粉丝列表
  - 获取用户的粉丝列表

### 4. 评论功能
- **get-weibo-comments**: 获取微博评论
  - 根据微博ID获取相关评论
  - 返回评论内容、用户信息、互动数据等
  
- **get-weibo-hot-feeds**: 获取热门微博
  - 获取指定用户的热门动态内容

## 技术特点

### API选择
- 使用微博移动端API (`m.weibo.cn`)
- 比PC端API更稳定，不易被封禁
- 支持更丰富的数据字段

### 请求头优化
- 模拟真实移动端访问
- 添加必要的反爬虫请求头
- 支持PWA标识

### 错误处理
- 完善的异常处理机制
- 备用API方案
- 优雅降级处理

### 数据过滤
- 自动过滤广告内容
- 数据清洗和格式化
- 支持多媒体内容处理

## 使用示例

```python
# 获取热搜
trending = await get_weibo_trending_func()

# 搜索内容
content = await search_weibo_content("人工智能", limit=10)

# 获取用户信息
profile = await get_weibo_user_profile(1749127163)

# 获取用户动态
feeds = await get_weibo_user_feeds(1749127163, limit=5)

# 获取评论
comments = await get_weibo_comments("5167970394572058", limit=10)
```

## 注意事项

1. **频率限制**: 建议控制请求频率，避免过于频繁的请求
2. **数据时效性**: 微博数据更新较快，建议定期刷新
3. **用户隐私**: 遵守相关法律法规，保护用户隐私
4. **API稳定性**: 微博API可能会变化，需要及时更新

## 更新日志

- **v1.0**: 基础热搜功能
- **v2.0**: 添加搜索功能
- **v3.0**: 添加用户功能
- **v4.0**: 添加评论功能，完善错误处理
